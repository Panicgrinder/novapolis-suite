#!/bin/sh
# Composite pre-commit: snapshot gate + frontmatter validator (changed Markdown files only)

if command -v pwsh >/dev/null 2>&1; then
  pwsh -NoProfile -ExecutionPolicy Bypass -File "$(dirname "$0")/pre-commit.ps1" "$@"
  exit $?
elif command -v powershell.exe >/dev/null 2>&1; then
  powershell.exe -NoProfile -ExecutionPolicy Bypass -File "$(dirname "$0")/pre-commit.ps1" "$@"
  exit $?
else
  echo "[pre-commit] No PowerShell available; skipping." >&2
  exit 0
fi
