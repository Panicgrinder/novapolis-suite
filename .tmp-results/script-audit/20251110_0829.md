---
stand: 2025-11-10 08:40
update: Freigaben dokumentiert; Lösch-/Archivschritte vorbereitet.
checks: keine
---

Skript-Inventur (Zwischenstand)
===============================

Kontext
-------

- Ziel: Skriptbestand sichten, Redundanzen identifizieren und potenzielle Löschkandidaten markieren, bevor wir tatsächlich Dateien entfernen.
- Umfang (Phase 1): Fokus auf Root-Ordner `scripts/` und Einstieg in `novapolis_agent/scripts/`.
- Ergebnisart: Klassifikation „Behalten“, „Prüfen“, „Entfernen möglich“, jeweils mit kurzer Begründung.

Root `scripts/`
---------------

| Skript | Status | Begründung / Hinweise |
| --- | --- | --- |
| `append_done_and_push.ps1` | Behalten | Aktiver Workflow zum DONELOG-Append inkl. Frontmatter-Update, wird regelmäßig verwendet. |
| `checks_linters.ps1` | Behalten | Aktueller Wrapper für Ruff+Black, in VS Code Tasks eingebunden. |
| `run_linters.ps1` | Entfernen möglich | Älterer Ruff/Black-Wrapper, aktueller Ersatz ist `checks_linters.ps1`; keine Referenzen außer Historie (grep → DONELOG / tree). |
| `checks_types.ps1` | Behalten | Wrapper für Pyright+Mypy, per Task „Checks: types“ aktiv. |
| `tests_pytest_root.ps1` | Prüfen | Taskreferenz vorhanden, aber Lauf schlägt häufig fehl (s. DONELOG). Option: durch `run_pytest_quick.ps1` ersetzen oder Task deaktivieren. |
| `run_pytest_quick.ps1` | Behalten | Empfohlener Wrapper (siehe `single-root-todo.md`), setzt CWD korrekt auf `novapolis_agent`. |
| `run_pytest_coverage.ps1` | Behalten | Aktives Coverage-Gate (80 %). |
| `run_frontmatter_validator.ps1` | Behalten | Von `append_done_and_push.ps1` und Dokumentation referenziert. |
| `check_frontmatter.py` | Behalten | Validator wird in Skripten/CI verwendet. |
| `cleanup_workspace_files.ps1` | Behalten | Aktives Cleanup-Skript (WhatIf/Real) laut DONELOG. |
| `update_workspace_tree_dirs.ps1` | Behalten | Tasks nutzen dieses Skript für Tree-Snapshots. |
| `diagnostics.ps1` | Behalten | Liefert Checklist/Hashes; keine Ablösung vorhanden. |
| `snapshot_gate.ps1` / `snapshot_write_lock.ps1` | Prüfen | Spezialskripte (Snapshot-Schutz). Keine jüngsten Verwendungen dokumentiert; Bedarf mit Panicgrinder klären. |
| `rotate_backups.ps1`, `update_backups_manifest.ps1`, `collect_commit_times_batch1.ps1`, `git_commit_push.ps1`, `install_hooks.ps1`, `setup_root_venv.ps1` | Behalten | Wartungs-/Setup-Skripte; keine Hinweise auf Obsoleszenz. |
| `append_done_and_push.ps1` (Task) | Behalten | Task „Docs: DONELOG append“ referenziert die Logik. |

Agent `novapolis_agent/scripts/` (Spot-Check)
--------------------------------------------

- Großteil sind operative Tools (Eval, RAG, Fine-Tuning). Kein klarer Löschkandidat ohne Domänenwissen.
- Zwei PowerShell-Skripte `cleanup_phase3.ps1`/`cleanup_phase4.ps1` wirken wie Legacy-Cleanup; Verwendung prüfen (grep → keine aktuellen Referenzen). Empfehlung: Rücksprache mit Panicgrinder, ggf. archivieren.
- `history_purge_plan.ps1` scheint Dokumentations-/Planungshilfe; keine aktuelle Verwendung nachweisbar → Kandidat für Archiv, aber erst nach Abstimmung.
- Python-Skripte wie `run_tests.py`, `smoke_asgi.py`, `quick_eval.py` etc. sollten verifiziert werden (Logs erwähnen teils neuere Alternativen). Noch keine Removal-Empfehlung.

Empfohlene nächste Schritte
--------------------------

1. Entscheidung `run_linters.ps1`: Entfernen oder in Backups verschieben (keine aktiven Referenzen). Optional README-/TODO-Update.
2. Für `tests_pytest_root.ps1`: Entweder Task auf `run_pytest_quick.ps1` umstellen oder Skript löschen, wenn keine Einsätze mehr geplant sind. Abstimmung erforderlich, da Tasks derzeit darauf zeigen.
3. Snapshot-Skripte (`snapshot_gate.ps1`, `snapshot_write_lock.ps1`) mit Panicgrinder durchgehen (Dokumentation aktualisieren oder archivieren).
4. Agent-PowerShell-Skripte (`cleanup_phase3.ps1`, `cleanup_phase4.ps1`, `history_purge_plan.ps1`) verifizieren: Falls Legacy, nach `Backups/` verschieben oder löschen.
5. Phase 2: Vollständige Tabelle für `novapolis_agent/scripts/` inkl. Python-Skripte und Reports-Unterordner erstellen; Nutzung anhand von README/Tasks/Tests prüfen.

Entscheidung (Freigabe)
-----------------------

- 1) `scripts/run_linters.ps1`: Entfernen (Ersatz `scripts/checks_linters.ps1` aktiv).
- 2) `scripts/tests_pytest_root.ps1`: Entfernen (root-weiter Pytest nicht mehr benötigt; CWD-Agent-Wrapper vorhanden).
- 3) Snapshot-Skripte: `scripts/snapshot_gate.ps1` und `scripts/snapshot_write_lock.ps1` nach `novapolis-dev/archive/scripts/` archivieren.
- 4) Agent-PS1 Legacy: `novapolis_agent/scripts/{cleanup_phase3.ps1,cleanup_phase4.ps1,history_purge_plan.ps1}` entfernen.
- Doku: Diese Datei aktualisiert; DONELOG/STATUS erhalten einen kurzen Receipt.

Offene Fragen
-------------

- Gibt es CI- oder externe Abhängigkeiten auf Snapshot-/Cleanup-Skripte? (Keine Belege, aber Risiken prüfen.)
- Benötigen wir ein Archivierungsablauf (z. B. Verschieben nach `Backups/scripts-archive/` statt direktem Löschen)?

Hinweis: Noch keine Dateien gelöscht. Awaiting Entscheidung für identifizierte Kandidaten.
